# =============================================================================
# AIMS Data Platform - Environment Configuration
# =============================================================================
# Copy this file to .env and adjust values as needed for local development.
# Environment variables override settings in notebooks/config/notebook_settings.yaml
#
# Priority Order (highest to lowest):
#   1. Environment variables (this file when loaded)
#   2. YAML configuration (notebooks/config/notebook_settings.yaml)
#   3. Built-in defaults
#
# Note: In Microsoft Fabric, use Fabric environment variables or
#       workspace settings instead of this file.
#
# Version: 1.3.0
# Last Updated: 2026-01-19
# =============================================================================

# =============================================================================
# ENVIRONMENT SELECTION
# =============================================================================
# Set the environment explicitly. If not set, auto-detection is used.
# Valid values: local, fabric_dev, fabric_prod
# 
# AIMS_ENVIRONMENT=local

# For Fabric environments, set this to "true" for production
# AIMS_IS_PRODUCTION=false

# =============================================================================
# CORE PATHS
# =============================================================================
# Base directory for all relative paths.
# Leave commented to auto-detect (project root for local, /lakehouse/default/Files for Fabric)
# 
# AIMS_BASE_DIR=/path/to/project

# Legacy path variables (for backward compatibility)
# These are relative to BASE_DIR if not absolute paths
DATA_PATH=data/Samples_LH_Bronze_Aims_26_parquet
CONFIG_DIR=dq_great_expectations/generated_configs
STATE_DIR=data/state

# =============================================================================
# DATA QUALITY SETTINGS
# =============================================================================
# Default data quality pass threshold (percentage, 0-100)
# AIMS_DQ_THRESHOLD=85.0

# Maximum allowed null percentage per column (percentage, 0-100)
# AIMS_NULL_TOLERANCE=5.0

# Maximum allowed duplicate percentage (percentage, 0-100)
# AIMS_DUPLICATE_TOLERANCE=1.0

# =============================================================================
# PROCESSING SETTINGS
# =============================================================================
# Maximum parallel workers for processing
# Local default: 4, Fabric dev: 8, Fabric prod: 16
# AIMS_MAX_WORKERS=4

# Sample size for development/testing (set to "null" or leave empty for full data)
# AIMS_SAMPLE_SIZE=100000

# Enable performance profiling
# AIMS_ENABLE_PROFILING=true

# Enable intermediate data caching
# AIMS_CACHE_ENABLED=true

# =============================================================================
# STORAGE SETTINGS
# =============================================================================
# Output storage format: parquet or delta
# AIMS_STORAGE_FORMAT=parquet

# Parquet engine: pyarrow or fastparquet
PARQUET_ENGINE=pyarrow

# Compression codec: snappy, gzip, zstd, lz4, none
PARQUET_COMPRESSION=snappy

# =============================================================================
# INCREMENTAL LOAD SETTINGS
# =============================================================================
# Default watermark column for incremental loads
DEFAULT_WATERMARK_COLUMN=LASTUPDATED

# Batch size for incremental processing
BATCH_SIZE=10000

# =============================================================================
# LOGGING SETTINGS
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# AIMS_LOG_LEVEL=INFO
LOG_LEVEL=INFO

# Log format: json or text
LOG_FORMAT=json

# =============================================================================
# ALERTING SETTINGS
# =============================================================================
# Slack webhook URL for notifications (optional)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Microsoft Teams webhook URL for notifications (optional)
# TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR/WEBHOOK/URL

# =============================================================================
# AZURE / MICROSOFT FABRIC SETTINGS (Optional)
# =============================================================================
# Uncomment and configure if using Azure storage or Fabric

# Azure Storage Account
# AZURE_STORAGE_ACCOUNT_NAME=your_storage_account
# AZURE_STORAGE_ACCOUNT_KEY=your_storage_key

# Microsoft Fabric Workspace
# FABRIC_WORKSPACE_ID=your_workspace_id
# FABRIC_LAKEHOUSE_ID=your_lakehouse_id

# =============================================================================
# DEVELOPMENT / DEBUGGING SETTINGS
# =============================================================================
# Force reprocessing even if data hasn't changed
# AIMS_FORCE_REPROCESS=false

# Continue pipeline on non-critical errors
# AIMS_CONTINUE_ON_ERROR=false

# Enable verbose debug output
# AIMS_DEBUG=false

# =============================================================================
# GREAT EXPECTATIONS SETTINGS
# =============================================================================
# GE root directory (relative to BASE_DIR)
# GE_ROOT_DIR=great_expectations

# GE checkpoint mode: validation, profiling, or both
# GE_CHECKPOINT_MODE=validation

# =============================================================================
# NOTEBOOK UTILITIES SETTINGS (NEW in v1.3.0)
# =============================================================================
# These settings control the notebook utilities layer (notebooks/lib/)

# Override storage format for notebooks: parquet or delta
# AIMS_STORAGE_FORMAT=parquet

# Enable schema evolution in storage operations
# AIMS_ENABLE_SCHEMA_EVOLUTION=true

# Default compression codec: snappy, gzip, zstd, lz4, none
# AIMS_DEFAULT_COMPRESSION=snappy

# Row group size for parquet files
# AIMS_ROW_GROUP_SIZE=100000

# Checkpoint strategy: none, phase, table
# AIMS_CHECKPOINT_STRATEGY=phase

# Enable parallel table processing
# AIMS_PARALLEL_TABLES=true

# =============================================================================
# PIPELINE PHASE CONTROL (NEW in v1.3.0)
# =============================================================================
# Enable/disable individual pipeline phases

# AIMS_PHASE_PROFILING=true
# AIMS_PHASE_VALIDATION=true
# AIMS_PHASE_INGESTION=true
# AIMS_PHASE_MONITORING=true
# AIMS_PHASE_SCHEMA_RECONCILIATION=true
# AIMS_PHASE_MODELING=false
# AIMS_PHASE_BI_ANALYTICS=false

# =============================================================================
# SUMMARY OF ALL AIMS_* VARIABLES
# =============================================================================
# Environment:
#   AIMS_ENVIRONMENT         - Environment selection (local/fabric_dev/fabric_prod)
#   AIMS_IS_PRODUCTION       - Production mode flag (true/false)
#   AIMS_BASE_DIR            - Base directory for paths
#
# Data Quality:
#   AIMS_DQ_THRESHOLD        - Default DQ pass threshold (0-100)
#   AIMS_NULL_TOLERANCE      - Max null percentage allowed (0-100)
#   AIMS_DUPLICATE_TOLERANCE - Max duplicate percentage allowed (0-100)
#
# Processing:
#   AIMS_MAX_WORKERS         - Parallel processing workers
#   AIMS_SAMPLE_SIZE         - Sample size for dev/testing (null for full)
#   AIMS_ENABLE_PROFILING    - Enable performance profiling
#   AIMS_CACHE_ENABLED       - Enable intermediate caching
#   AIMS_FORCE_REPROCESS     - Force reprocessing
#   AIMS_CONTINUE_ON_ERROR   - Continue on non-critical errors
#   AIMS_DEBUG               - Enable debug mode
#
# Storage:
#   AIMS_STORAGE_FORMAT      - Output format (parquet/delta)
#   AIMS_ENABLE_SCHEMA_EVOLUTION - Allow schema changes
#   AIMS_DEFAULT_COMPRESSION - Compression codec
#   AIMS_ROW_GROUP_SIZE      - Parquet row group size
#
# Pipeline:
#   AIMS_CHECKPOINT_STRATEGY - Checkpoint mode (none/phase/table)
#   AIMS_PARALLEL_TABLES     - Enable parallel table processing
#   AIMS_PHASE_*             - Individual phase enable/disable
#
# Logging:
#   AIMS_LOG_LEVEL           - Log level (DEBUG/INFO/WARNING/ERROR)
# =============================================================================
